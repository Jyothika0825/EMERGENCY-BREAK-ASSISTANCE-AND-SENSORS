from sensor import UltrasonicSensor
from vehicle import Vehicle
from controller import EmergencyBrakeController
from config import MAX_SPEED
import time

def main():

    sensor = UltrasonicSensor()
    vehicle = Vehicle(MAX_SPEED)
    controller = EmergencyBrakeController(vehicle)

    print("=== Emergency Brake Assistance System Started ===\n")

    while True:
        distance = sensor.read_distance()
        controller.evaluate(distance)
        vehicle.status()
        print("-" * 50)
        time.sleep(2)

if __name__ == "__main__":
    main()